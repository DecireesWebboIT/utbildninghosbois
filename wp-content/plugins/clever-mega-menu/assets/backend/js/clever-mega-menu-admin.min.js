function clever_menu_close_vc_popup(){jQuery(".clever-mega-menu-popup").hide(),jQuery("#clever-mega-menu-overlay").hide()}function clever_menu_toggle_fields(e,n,t,i){var m=e.val();return m===i?(t.hide(),n.show()):(n.hide(),t.show()),!1}function clever_menu_insert_iconic_value(e,n){return jQuery(e).on("click",function(){var e,t;t=jQuery(this),c=t.parent("label"),e=t.next(n,c),e.toggle("fast"),jQuery(jQuery(n+" span"),c).on("click",function(){var n=jQuery(this,c).attr("class");c.find(".clever-mega-menu-icon").attr("class","clever-mega-menu-icon "+n),c.find("input").val(n),e.hide("fast")})}),!1}window.clever_mega_menu_item_title="",window.currentEditItem={},jQuery(document).ready(function(e){e(".color-picker").wpColorPicker(),e(".wp-color-result").attr("title",cleverMenuI18n.select),clever_menu_insert_iconic_value(".clever-mega-menu-icon",".clever-mega-menu-icons"),e(function(){var n=e(".clever-mega-menu-item-icon"),t=e(".clever-mega-menu-item-edit-btn"),i=e("#clever-mega-menu-enable-checkbox"),m=e(".clever-mega-menu-advanced-setting");i.is(":checked")?(t.addClass("clever-mega-menu-active-edit-btn"),n.show(),m.show()):(t.removeClass("clever-mega-menu-active-edit-btn"),n.hide(),m.hide()),i.change(function(){i.is(":checked")?(t.addClass("clever-mega-menu-active-edit-btn"),n.show(),m.show()):(t.removeClass("clever-mega-menu-active-edit-btn"),n.hide(),m.hide())})})});var cleverMenuEditor=function(e){var n=this,t=jQuery;n.item=e,n.tpl=t(t("#clever-mega-menu-popup-tpl").html()),n.navId=t("#update-nav-menu #menu").val(),n.menuId=t("input.menu-item-data-db-id",e).val(),n.settings=!1,"undefined"!=typeof cleverMenuItems[n.menuId]&&(n.settings=cleverMenuItems[n.menuId]),n.settings&&(""!==n.settings.options.icon&&t(".item-title",e).prepend('<span class="clever-mega-menu-item-icon"><i class="'+n.settings.options.icon+'"></i></span>'),1===n.settings.options.enable||"1"===n.settings.options.enable?e.addClass("clever-mega-menu-item-mega-enabled"):e.removeClass("clever-mega-menu-item-mega-enabled")),n.autoFrameHeight=function(){t(window).width()<800?n.tpl.css({left:"20px",top:t("#wpadminbar").height()+20+"px"}):n.tpl.css({left:t("#adminmenuback").width()+20+"px",top:t("#wpadminbar").height()+20+"px"}),t(".clever-mega-menu-popup").each(function(){var e=n.tpl.height();t("iframe",n.tpl).eq(0).height(e-30)})},n.setPopupTitle=function(){window.clever_mega_menu_item_title=t(".edit-menu-item-title",e).val()},n.hidePopup=function(){n.tpl.hide(),t("#clever-mega-menu-overlay").remove()},n.openPopup=function(e){if(window.currentEditItem=n,t("iframe",n.tpl).length>0);else{var i;i=cleverMenuConfig.newCleverMenu+"&clever_menu_id="+n.navId+"&clever_menu_item_id="+n.menuId,n.tpl.append('<iframe id="clever-mega-menu-item-frame-'+n.menuId+'" src="'+i+'" class="clever-mega-menu-iframe"></iframe>')}n.frame=t("iframe",n.tpl).eq(0),n.tpl.attr("id","clever-mega-menu-menu-id-"+n.menuId),t("#clever-mega-menu-overlay").remove(),t("body").append('<div id="clever-mega-menu-overlay"></div>'),t("#clever-mega-menu-overlay").on("click",function(){return n.hidePopup(),!1}),t("body .clever-mega-menu-popup").hide(),n.setPopupTitle(),t("#clever-mega-menu-menu-id-"+n.menuId).length>0?n.autoFrameHeight():(n.autoFrameHeight(),t("body").append(n.tpl),n.autoFrameHeight(),t(window).resize(function(){n.autoFrameHeight()})),n.tpl.show()},t(".clever-mega-menu-item-edit-btn",e).on("click",function(){return n.openPopup(e),!1})},cleverMenuAddEditBtn=function(){enableCleverMenu=jQuery("#clever-mega-menu-enable-checkbox"),jQuery("li",wpNavMenu.menuList).each(function(){var e=jQuery(this),n=jQuery(".item-title",e),t="clever-mega-menu-item-edit-btn";enableCleverMenu.is(":checked")&&(t="clever-mega-menu-item-edit-btn clever-mega-menu-active-edit-btn"),0===jQuery(".clever-mega-menu-item-edit-btn",e).length&&(n.append('<span class="'+t+'"><i class="dashicons dashicons-admin-customizer"></i>'+cleverMenuI18n.megaMenu+"</span>"),new cleverMenuEditor(e))})};"undefined"!=typeof wpNavMenu&&(wpNavMenu.addItemToMenu=function(e,n,t){var i,m=jQuery,u=m("#menu").val(),a=m("#menu-settings-column-nonce").val();n=n||function(){},t=t||function(){},i={action:"add-menu-item",menu:u,"menu-settings-column-nonce":a,"menu-item":e},m.post(ajaxurl,i,function(e){var u=m("#menu-instructions");e=m.trim(e),n(e,i),m("li.pending").hide().fadeIn("slow"),m(".drag-instructions").show(),!u.hasClass("menu-instructions-inactive")&&u.siblings().length&&u.addClass("menu-instructions-inactive"),cleverMenuAddEditBtn(m),t()})}),jQuery(document).ready(function(e){"undefined"!=typeof wpNavMenu&&cleverMenuAddEditBtn(),e("form#update-nav-menu").submit(function(){e("body .clever-mega-menu-popup").remove()})}),window.clever_menu_data_item_changes=function(e,n){window.currentEditItem.tpl.hide(),n.is_update||jQuery("iframe",window.currentEditItem.tpl).remove(),jQuery("#clever-mega-menu-overlay").remove(),cleverMenuItems[window.currentEditItem.menuId]={url:n.url,options:n.settings},window.currentEditItem.settings={url:n.url,options:n.settings},jQuery(".clever-mega-menu-item-icon",window.currentEditItem.item).remove(),""!==n.settings.icon&&jQuery(".item-title",window.currentEditItem.item).prepend('<span class="clever-mega-menu-item-icon"><i class="'+n.settings.icon+'"></i></span>'),1===n.settings.enable||"1"===n.settings.enable?window.currentEditItem.item.addClass("clever-mega-menu-item-mega-enabled"):window.currentEditItem.item.removeClass("clever-mega-menu-item-mega-enabled"),"undefined"!=typeof wpNavMenu&&(wpNavMenu.menusChanged=!1)};