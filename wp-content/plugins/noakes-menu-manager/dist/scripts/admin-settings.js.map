{"version":3,"sources":["admin-settings.js"],"names":["pagenow","postboxes","nmm_admin_settings_l10n","$","nmm","data","events","include","is","admin","settings","extend","compare","conditional","field","index","template_name","value","check_conditions","finalize","scale","set_index","included","removeClass","addClass","add_postbox_toggles","resize","window","nmm_trigger_all","numeric","isNaN","isFinite","code_fields","each","current","this","find","nmm_select_text","click","clicked","code","attr","hasClass","length","siblings","hide","show","conditional_logic","condition","nmm_add_event","current_conditional","show_field","current_condition","current_field","current_value","filter","val","compare_matched","parent","closest","next","remove","stop","slideDown","slideUp","after","on","forms","validator","messages","addMethod","element","optional","$element","valid","not","text","prev","children","addClassRules","nmm-location","nmm_validate_form","prop","repeatable","width","setup","mousedown","height","mouseup","css","sortable","containment","cursor","forcePlaceholderSize","handle","items","opacity","placeholder","revert","tolerance","e","ui","item","first","triggerHandler","mouseenter","mouseleave","animate","queue","field_index","insertBefore","repeatables","parents","dom_indexes","reverse","detach","insertAfter","moving","add","previous","complete","input","isArray","indexes","slice","addBack","name","i","current_index","replace","id","input_wrapper","insert_before","wrapper","template","clone","toggleClass","fn","f","range","selection","document","body","createTextRange","moveToElementText","select","getSelection","createRange","selectNodeContents","removeAllRanges","addRange","validate","errorClass","errorElement","focusInvalid","errorPlacement","error","appendTo","invalidHandler","numberOfInvalids","the_window","admin_bar_height","window_height","errorList","element_height","outerHeight","element_top","offset","top","scroll_top","Math","floor","scrollTop","max","min","submitHandler","form","submit","scroll_stop","jQuery"],"mappings":"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","file":"admin-settings.js","sourcesContent":["/*!\r\n * Admin settings JavaScript include.\r\n * \r\n * @since 1.3.0\r\n * \r\n * @package Nav Menu Manager\r\n */\r\n\r\n/**\r\n * Current WordPress admin page ID.\r\n * \r\n * @since 1.2.4\r\n * \r\n * @var    string\r\n */\r\nvar pagenow = pagenow || '';\r\n\r\n/**\r\n * WordPress postboxes object.\r\n * \r\n * @since 1.2.4\r\n * \r\n * @var    object\r\n */\r\nvar postboxes = postboxes || {};\r\n\r\n/**\r\n * Settings localization object.\r\n * \r\n * @since 1.2.4\r\n * \r\n * @var    object\r\n */\r\nvar nmm_admin_settings_l10n = nmm_admin_settings_l10n || {};\r\n\r\n(function ($)\r\n{\r\n\t'use strict';\r\n\t\r\n\t/**\r\n\t * Primary JSON objects.\r\n\t * \r\n\t * @since 1.2.0\r\n\t * \r\n\t * @access jQuery.nmm, jQuery.nmm.data, jQuery.nmm.events, jQuery.nmm.include, jQuery.nmm.is, jQuery.nmm.admin, jQuery.nmm.admin.settings\r\n\t * @var    object\r\n\t */\r\n\t$.nmm = $.nmm || {};\r\n\t$.nmm.data = $.nmm.data || {};\r\n\t$.nmm.events = $.nmm.events || {};\r\n\t$.nmm.include = $.nmm.include || {};\r\n\t$.nmm.is = $.nmm.is || {};\r\n\t$.nmm.admin = $.nmm.admin || {};\r\n\t$.nmm.admin.settings = $.nmm.admin.settings || {};\r\n\r\n\t/**\r\n\t * Custom data variable names.\r\n\t * \r\n\t * @since 1.4.0 Added compare, conditional field, field and value data variable names.\r\n\t * @since 1.2.0\r\n\t * \r\n\t * @access jQuery.nmm.data\r\n\t * @var    object\r\n\t */\r\n\t$.extend($.nmm.data,\r\n\t{\r\n\t\t'compare': 'nmm-compare',\r\n\t\t'conditional': 'nmm-conditional',\r\n\t\t'field': 'nmm-field',\r\n\t\t'index': 'nmm-index',\r\n\t\t'template_name': 'nmm-template-name',\r\n\t\t'value': 'nmm-value'\r\n\t});\r\n\r\n\t/**\r\n\t * Custom event names.\r\n\t * \r\n\t * @since 1.4.0 Added check conditions event.\r\n\t * @since 1.2.0\r\n\t * \r\n\t * @access jQuery.nmm.events\r\n\t * @var    object\r\n\t */\r\n\t$.extend($.nmm.events,\r\n\t{\r\n\t\t'check_conditions': 'nmm-check-conditions',\r\n\t\t'finalize': 'nmm-finalize',\r\n\t\t'scale': 'nmm-scale',\r\n\t\t'set_index': 'nmm-set-index'\r\n\t});\r\n\r\n\t/**\r\n\t * Methods for including functionality.\r\n\t * \r\n\t * @since 1.2.0\r\n\t * \r\n\t * @access jQuery.nmm.include\r\n\t * @var    object\r\n\t */\r\n\t$.extend($.nmm.include,\r\n\t{\r\n\t\t/**\r\n\t\t * Include postboxes functionality.\r\n\t\t * \r\n\t\t * @since 1.2.0\r\n\t\t * \r\n\t\t * @access jQuery.nmm.include.postboxes\r\n\t\t * @return void\r\n\t\t */\r\n\t\t'postboxes': function ()\r\n\t\t{\r\n\t\t\tif (!$.nmm.is.included('postboxes'))\r\n\t\t\t{\r\n\t\t\t\t$('.if-js-closed').removeClass('if-js-closed').addClass('closed');\r\n\r\n\t\t\t\tif (typeof postboxes !== 'undefined' && typeof pagenow !== 'undefined')\r\n\t\t\t\t{\r\n\t\t\t\t\tpostboxes.add_postbox_toggles(pagenow);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Include window resize functionality.\r\n\t\t * \r\n\t\t * @since 1.2.0\r\n\t\t * \r\n\t\t * @access jQuery.nmm.include.resize\r\n\t\t * @return void\r\n\t\t */\r\n\t\t'resize': function ()\r\n\t\t{\r\n\t\t\tif (!$.nmm.is.included('resize'))\r\n\t\t\t{\r\n\t\t\t\t$(window)\r\n\t\t\t\t.resize(function ()\r\n\t\t\t\t{\r\n\t\t\t\t\t$('.' + $.nmm.events.scale).nmm_trigger_all($.nmm.events.scale);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t * Methods for checking values.\r\n\t * \r\n\t * @since 1.2.0\r\n\t * \r\n\t * @access jQuery.nmm.is\r\n\t * @var object\r\n\t */\r\n\t$.extend($.nmm.is,\r\n\t{\r\n\t\t/**\r\n\t\t * Checks for a valid number.\r\n\t\t * \r\n\t\t * @since 1.2.0\r\n\t\t * \r\n\t\t * @access jQuery.nmm.is.numeric\r\n\t\t * @param  mixed   value Value to check.\r\n\t\t * @return boolean       True if the value is a number. \r\n\t\t */\r\n\t\t'numeric': function (value)\r\n\t\t{\r\n\t\t\treturn (typeof value === 'number' && !isNaN(value) && isFinite(value));\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t * Plugin settings functionality.\r\n\t * \r\n\t * @since 1.2.0\r\n\t * \r\n\t * @access jQuery.nmm.admin.settings\r\n\t * @var    object\r\n\t */\r\n\t$.extend($.nmm.admin.settings,\r\n\t{\r\n\t\t/**\r\n\t\t * Prepare the code fields.\r\n\t\t * \r\n\t\t * @since 1.4.0\r\n\t\t * \r\n\t\t * @access jQuery.nmm.admin.settings.code_fields\r\n\t\t * @return void\r\n\t\t */\r\n\t\t'code_fields': function ()\r\n\t\t{\r\n\t\t\t$('.nmm-field-code')\r\n\t\t\t.each(function ()\r\n\t\t\t{\r\n\t\t\t\tvar current = $(this);\r\n\t\t\t\tcurrent.find('pre').nmm_select_text();\r\n\t\t\t\t\r\n\t\t\t\tcurrent.find('button[id]')\r\n\t\t\t\t.click(function ()\r\n\t\t\t\t{\r\n\t\t\t\t\tvar clicked = $(this);\r\n\t\t\t\t\tvar code = $('#' + clicked.attr('id') + '-code');\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!clicked.hasClass('button-primary') && code.length > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tclicked.addClass('button-primary').siblings('button').removeClass('button-primary');\r\n\t\t\t\t\t\tclicked.siblings('pre').hide();\r\n\t\t\t\t\t\tcode.show();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t * Prepare fields with conditional logic.\r\n\t\t * \r\n\t\t * @since 1.4.0\r\n\t\t * \r\n\t\t * @access jQuery.nmm.admin.settings.conditional_logic\r\n\t\t * @return void\r\n\t\t */\r\n\t\t'conditional_logic': function ()\r\n\t\t{\r\n\t\t\t$('.nmm-condition[data-' + $.nmm.data.conditional + '][data-' + $.nmm.data.field + '][data-' + $.nmm.data.value + '][data-' + $.nmm.data.compare + ']')\r\n\t\t\t.each(function ()\r\n\t\t\t{\r\n\t\t\t\tvar condition = $(this);\r\n\t\t\t\tvar conditional = $('[name=\"' + condition.data($.nmm.data.conditional) + '\"]');\r\n\t\t\t\tvar field = $('[name=\"' + condition.data($.nmm.data.field) + '\"]');\r\n\t\t\t\t\r\n\t\t\t\tif (!conditional.hasClass($.nmm.events.check_conditions))\r\n\t\t\t\t{\r\n\t\t\t\t\tconditional\r\n\t\t\t\t\t.nmm_add_event($.nmm.events.check_conditions, function ()\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar current_conditional = $(this);\r\n\t\t\t\t\t\tvar show_field = true;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$('.nmm-condition[data-' + $.nmm.data.conditional + '=\"' + current_conditional.attr('name') + '\"][data-' + $.nmm.data.field + '][data-' + $.nmm.data.value + '][data-' + $.nmm.data.compare + ']')\r\n\t\t\t\t\t\t.each(function ()\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvar current_condition = $(this);\r\n\t\t\t\t\t\t\tvar current_field = $('[name=\"' + current_condition.data($.nmm.data.field) + '\"]');\r\n\t\t\t\t\t\t\tvar current_value = (current_field.is(':radio')) ? current_field.filter(':checked').val() : current_field.val();\r\n\t\t\t\t\t\t\tvar compare = current_condition.data($.nmm.data.compare);\r\n\t\t\t\t\t\t\tvar compare_matched = false;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (current_field.is(':checkbox'))\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tcurrent_value = (current_field.is(':checked')) ? current_value : '';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (compare === '!=')\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tcompare_matched = (current_condition.data($.nmm.data.value) + '' !== current_value + '');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tcompare_matched = (current_condition.data($.nmm.data.value) + '' === current_value + '');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tshow_field = (show_field && compare_matched);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar parent = current_conditional.closest('.nmm-field');\r\n\t\t\t\t\t\tparent.next('.nmm-field-spacer').remove();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (show_field)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tparent.stop(true).slideDown('fast');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tparent.stop(true).slideUp('fast').after($('<div/>').addClass('hidden nmm-field-spacer'));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (!field.hasClass('nmm-has-condition'))\r\n\t\t\t\t{\r\n\t\t\t\t\tfield.addClass('nmm-has-condition')\r\n\t\t\t\t\t.on('change', function ()\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$('.nmm-condition[data-' + $.nmm.data.conditional + '][data-' + $.nmm.data.field + '=\"' + $(this).attr('name') + '\"][data-' + $.nmm.data.value + '][data-' + $.nmm.data.compare + ']')\r\n\t\t\t\t\t\t.each(function ()\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$('[name=\"' + $(this).data($.nmm.data.conditional) + '\"]').nmm_trigger_all($.nmm.events.check_conditions);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t * Prepare the settings form.\r\n\t\t * \r\n\t\t * @since 1.4.0 Added form setup for the code generator.\r\n\t\t * @since 1.2.0\r\n\t\t * \r\n\t\t * @access jQuery.nmm.admin.settings.forms\r\n\t\t * @return void\r\n\t\t */\r\n\t\t'forms': function ()\r\n\t\t{\r\n\t\t\t$.extend($.validator.messages, nmm_admin_settings_l10n.validator);\r\n\r\n\t\t\t$.validator.addMethod('nmm-location', function (value, element)\r\n\t\t\t{\r\n\t\t\t\tif (this.optional(element))\r\n\t\t\t\t{\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar $element = $(element);\r\n\t\t\t\tvar valid = true;\r\n\r\n\t\t\t\t$element.closest('.nmm-meta-box').find('.nmm-location:visible').not($element)\r\n\t\t\t\t.each(function ()\r\n\t\t\t\t{\r\n\t\t\t\t\tvar current = $(this);\r\n\r\n\t\t\t\t\tif (current.is('td'))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalid = (valid && (value !== current.text() || current.prev().children('input').is(':checked')));\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalid = (valid && value !== current.val());\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn valid;\r\n\t\t\t});\r\n\r\n\t\t\t$.validator.addClassRules('nmm-location',\r\n\t\t\t{\r\n\t\t\t\t'nmm-location': true\r\n\t\t\t});\r\n\r\n\t\t\t$('#noakes_menu_manager_settings,#noakes_menu_manager_generator').children('form').nmm_validate_form().find('[type=\"submit\"]').prop('disabled', false);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Prepare the settings repeatable fields.\r\n\t\t * \r\n\t\t * @since 1.2.0\r\n\t\t * \r\n\t\t * @access jQuery.nmm.admin.settings.repeatable\r\n\t\t * @return void\r\n\t\t */\r\n\t\t'repeatable': function ()\r\n\t\t{\r\n\t\t\t$('.nmm-repeatable')\r\n\t\t\t.nmm_add_event($.nmm.events.scale, function ()\r\n\t\t\t{\r\n\t\t\t\tvar repeatable = $(this);\r\n\r\n\t\t\t\tif (repeatable.width() < 480)\r\n\t\t\t\t{\r\n\t\t\t\t\trepeatable.addClass('nmm-thin-repeatable');\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\trepeatable.removeClass('nmm-thin-repeatable');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.on($.nmm.events.setup, function ()\r\n\t\t\t{\r\n\t\t\t\tvar repeatable = $(this);\r\n\r\n\t\t\t\tif (!repeatable.hasClass('ui-sortable') && repeatable.is(':visible'))\r\n\t\t\t\t{\r\n\t\t\t\t\trepeatable\r\n\t\t\t\t\t.mousedown(function ()\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar clicked = $(this);\r\n\t\t\t\t\t\tclicked.height(clicked.height());\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.mouseup(function ()\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$(this).css('height', '');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.sortable(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'containment': 'parent',\r\n\t\t\t\t\t\t'cursor': 'move',\r\n\t\t\t\t\t\t'forcePlaceholderSize': true,\r\n\t\t\t\t\t\t'handle': '> .nmm-repeatable-move',\r\n\t\t\t\t\t\t'items': '> .nmm-repeatable-field',\r\n\t\t\t\t\t\t'opacity': 0.75,\r\n\t\t\t\t\t\t'placeholder': 'nmm-repeatable-placeholder',\r\n\t\t\t\t\t\t'revert': 200,\r\n\t\t\t\t\t\t'tolerance': 'pointer',\r\n\r\n\t\t\t\t\t\t'stop': function (e, ui)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tui.item.parent('.nmm-repeatable').children('.nmm-repeatable-field').first().triggerHandler($.nmm.events.set_index, [0]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (repeatable.children('.nmm-repeatable-field').length <= 1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trepeatable.sortable('disable');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.nmm_trigger_all($.nmm.events.setup);\r\n\r\n\t\t\t$('.nmm-repeatable-field,.nmm-repeatable-template')\r\n\t\t\t.mouseenter(function ()\r\n\t\t\t{\r\n\t\t\t\t$(this).addClass('nmm-hover');\r\n\t\t\t})\r\n\t\t\t.mouseleave(function ()\r\n\t\t\t{\r\n\t\t\t\t$(this).removeClass('nmm-hover');\r\n\t\t\t})\r\n\t\t\t.on($.nmm.events.finalize, function ()\r\n\t\t\t{\r\n\t\t\t\t$(this).css('opacity', '0')\r\n\t\t\t\t.animate(\r\n\t\t\t\t{\r\n\t\t\t\t\t'opacity': '1'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'queue': false\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.on($.nmm.events.set_index, function (e, field_index)\r\n\t\t\t{\r\n\t\t\t\tif ($.nmm.is.numeric(field_index) && field_index >= 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar field = $(this);\r\n\r\n\t\t\t\t\tif (field_index !== field.data($.nmm.data.index))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfield.data($.nmm.data.index, field_index);\r\n\r\n\t\t\t\t\t\tvar placeholder = $('<div/>').addClass('nmm-repeatable-placeholder').insertBefore(field);\r\n\t\t\t\t\t\tvar repeatables = field.parents('.nmm-repeatable-field');\r\n\t\t\t\t\t\tvar dom_indexes = [];\r\n\r\n\t\t\t\t\t\trepeatables\r\n\t\t\t\t\t\t.each(function ()\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdom_indexes[dom_indexes.length] = $(this).data($.nmm.data.index);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tdom_indexes = dom_indexes.reverse();\r\n\r\n\t\t\t\t\t\tfield.children('.nmm-repeatable-count').text(field_index + 1);\r\n\t\t\t\t\t\tfield = field.detach();\r\n\t\t\t\t\t\tfield.find('[data-' + $.nmm.data.template_name + ']').nmm_trigger_all($.nmm.events.finalize, [dom_indexes]);\r\n\t\t\t\t\t\tfield.removeClass('nmm-first').insertAfter(placeholder);\r\n\r\n\t\t\t\t\t\tif (field_index === 0)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tfield.addClass('nmm-first');\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tplaceholder.remove();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfield.next('.nmm-repeatable-field').triggerHandler($.nmm.events.set_index, [field_index + 1]);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t$('.nmm-repeatable-move-down')\r\n\t\t\t.click(function ()\r\n\t\t\t{\r\n\t\t\t\tvar moving = $(this).parent();\r\n\t\t\t\tvar next = moving.next('.nmm-repeatable-field');\r\n\r\n\t\t\t\tif (next.length > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tmoving.insertAfter(next).add(next).nmm_trigger_all($.nmm.events.finalize);\r\n\t\t\t\t\tnext.triggerHandler($.nmm.events.set_index, [moving.data($.nmm.data.index)]);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t$('.nmm-repeatable-move-up')\r\n\t\t\t.click(function ()\r\n\t\t\t{\r\n\t\t\t\tvar moving = $(this).parent();\r\n\t\t\t\tvar previous = moving.prev('.nmm-repeatable-field');\r\n\r\n\t\t\t\tif (previous.length > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tmoving.insertBefore(previous).add(previous).nmm_trigger_all($.nmm.events.finalize);\r\n\t\t\t\t\tmoving.triggerHandler($.nmm.events.set_index, [previous.data($.nmm.data.index)]);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t$('.nmm-repeatable-insert')\r\n\t\t\t.click(function ()\r\n\t\t\t{\r\n\t\t\t\tvar field = $(this).parent('.nmm-repeatable-field');\r\n\t\t\t\tfield.parent('.nmm-repeatable').children('.nmm-repeatable-add').children('button').triggerHandler('click', [field]);\r\n\t\t\t});\r\n\r\n\t\t\t$('.nmm-repeatable-remove')\r\n\t\t\t.click(function ()\r\n\t\t\t{\r\n\t\t\t\tvar field = $(this).parent('.nmm-repeatable-field');\r\n\t\t\t\tfield.find('.ui-sortable').sortable('destroy');\r\n\t\t\t\tfield.next('.nmm-repeatable-field').triggerHandler($.nmm.events.set_index, [field.data($.nmm.data.index)]);\r\n\r\n\t\t\t\tvar repeatable = field.parent('.nmm-repeatable');\r\n\r\n\t\t\t\tif (repeatable.children('.nmm-repeatable-field').length <= 2)\r\n\t\t\t\t{\r\n\t\t\t\t\trepeatable.sortable('disable');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfield.addClass('nmm-animating')\r\n\t\t\t\t.animate(\r\n\t\t\t\t{\r\n\t\t\t\t\t'height': '0px'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'queue': false,\r\n\r\n\t\t\t\t\t'complete': function ()\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$(this).remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\t$('[data-' + $.nmm.data.template_name + ']')\r\n\t\t\t.on($.nmm.events.finalize, function (e, dom_indexes)\r\n\t\t\t{\r\n\t\t\t\tvar input = $(this);\r\n\r\n\t\t\t\tif ($.isArray(dom_indexes) && input.closest('.nmm-repeatable-template').length === 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar indexes = dom_indexes.slice(0);\r\n\t\t\t\t\tvar repeatables = input.closest('.nmm-repeatable-field').parents('.nmm-repeatable-field').addBack();\r\n\t\t\t\t\tvar name = input.data($.nmm.data.template_name);\r\n\r\n\t\t\t\t\trepeatables\r\n\t\t\t\t\t.each(function ()\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tindexes[indexes.length] = $(this).data($.nmm.data.index);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t$.each(indexes, function (i, current_index)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname = name.replace('%d', current_index);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tinput\r\n\t\t\t\t\t.attr(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'id': name,\r\n\t\t\t\t\t\t'name': name\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tvar input_wrapper = input.closest('.nmm-field-input');\r\n\t\t\t\t\tinput_wrapper.find('[for]').attr('for', name);\r\n\t\t\t\t\tinput_wrapper.closest('.nmm-field').children('.nmm-field-label').find('[for]').attr('for', name);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t$('.nmm-repeatable-add button')\r\n\t\t\t.click(function (e, insert_before)\r\n\t\t\t{\r\n\t\t\t\tvar wrapper = $(this).closest('.nmm-repeatable');\r\n\t\t\t\tvar template = wrapper.children('.nmm-repeatable-template').first();\r\n\t\t\t\tvar field_index = -1;\r\n\r\n\t\t\t\tif (insert_before instanceof $ && insert_before.length > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tinsert_before = insert_before.first();\r\n\t\t\t\t\tfield_index = insert_before.data($.nmm.data.index);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tinsert_before = template;\r\n\t\t\t\t\tfield_index = wrapper.children('.nmm-repeatable-field').length;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar field = template.clone(true, true).toggleClass('nmm-repeatable-field nmm-repeatable-template').addClass('nmm-animating').css('opacity', '0').insertBefore(insert_before);\r\n\t\t\t\tvar repeatable = field.closest('.nmm-repeatable').sortable('refresh');\r\n\r\n\t\t\t\tif (repeatable.children('.nmm-repeatable-field').length > 1)\r\n\t\t\t\t{\r\n\t\t\t\t\trepeatable.sortable('enable');\r\n\t\t\t\t}\r\n\r\n\t\t\t\trepeatable.find('.nmm-repeatable').nmm_trigger_all($.nmm.events.setup);\r\n\t\t\t\tfield.triggerHandler($.nmm.events.set_index, [field_index]);\r\n\r\n\t\t\t\tvar height = field.height();\r\n\r\n\t\t\t\tfield\r\n\t\t\t\t.css(\r\n\t\t\t\t{\r\n\t\t\t\t\t'height': '0',\r\n\t\t\t\t\t'opacity': ''\r\n\t\t\t\t})\r\n\t\t\t\t.animate(\r\n\t\t\t\t{\r\n\t\t\t\t\t'height': height + 'px'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t'queue': false,\r\n\r\n\t\t\t\t\t'complete': function ()\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$(this).removeClass('nmm-animating').css('height', '');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t$.fn.extend(\r\n\t{\r\n\t\t/**\r\n\t\t * Add a custom event to all provided elements.\r\n\t\t * \r\n\t\t * @since 1.2.0\r\n\t\t * \r\n\t\t * @access jQuery.fn.nmm_add_event\r\n\t\t * @this   object     Elements to add the event to.\r\n\t\t * @param  string   e Event name to add to all elements.\r\n\t\t * @param  function f Function executed when the event is fired.\r\n\t\t * @return object     Updated elements.\r\n\t\t */\r\n\t\t'nmm_add_event': function (e, f)\r\n\t\t{\r\n\t\t\treturn this.addClass(e).on(e, f).nmm_trigger_all(e);\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t * Add text selection functionality to the provided elements.\r\n\t\t * \r\n\t\t * @since 1.4.0\r\n\t\t * \r\n\t\t * @access jQuery.fn.nmm_select_text\r\n\t\t * @this   object Element to select the text for.\r\n\t\t * @return object Provided elements.\r\n\t\t */\r\n\t\t'nmm_select_text': function ()\r\n\t\t{\r\n\t\t\treturn this\r\n\t\t\t.click(function ()\r\n\t\t\t{\r\n\t\t\t\tvar range, selection;\r\n\r\n\t\t\t\tif (document.body.createTextRange)\r\n\t\t\t\t{\r\n\t\t\t\t\trange = document.body.createTextRange();\r\n\t\t\t\t\trange.moveToElementText(this);\r\n\t\t\t\t\trange.select();\r\n\t\t\t\t}\r\n\t\t\t\telse if (window.getSelection)\r\n\t\t\t\t{\r\n\t\t\t\t\tselection = window.getSelection();        \r\n\t\t\t\t\trange = document.createRange();\r\n\t\t\t\t\trange.selectNodeContents(this);\r\n\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\tselection.addRange(range);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Validate the provided form elements.\r\n\t\t * \r\n\t\t * @since 1.2.0\r\n\t\t * \r\n\t\t * @access jQuery.fn.nmm_validate_form\r\n\t\t * @this   object Elements to validate.\r\n\t\t * @return object Validated elements.\r\n\t\t */\r\n\t\t'nmm_validate_form': function ()\r\n\t\t{\r\n\t\t\treturn this\r\n\t\t\t.each(function ()\r\n\t\t\t{\r\n\t\t\t\t$(this)\r\n\t\t\t\t.validate(\r\n\t\t\t\t{\r\n\t\t\t\t\t'errorClass': 'nmm-error',\r\n\t\t\t\t\t'errorElement': 'div',\r\n\t\t\t\t\t'focusInvalid': false,\r\n\r\n\t\t\t\t\t'errorPlacement': function (error, element)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar parent = element.parent();\r\n\r\n\t\t\t\t\t\tif (element.is('[type=\"checkbox\"]'))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\terror.addClass('nmm-standalone').appendTo(parent.parent());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\terror.insertAfter(parent);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\terror.hide().slideDown(200);\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t'invalidHandler': function (e, validator)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (!validator.numberOfInvalids())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar the_window = $(window), admin_bar_height = $('#wpadminbar').height();\r\n\t\t\t\t\t\tvar window_height = the_window.height() - admin_bar_height, element = $(validator.errorList[0].element);\r\n\t\t\t\t\t\tvar element_height = element.outerHeight(), element_top = element.offset().top;\r\n\r\n\t\t\t\t\t\tvar scroll_top = element_top - admin_bar_height;\r\n\t\t\t\t\t\tscroll_top -= (element_height > window_height) ? 0 : Math.floor((window_height - element_height) / 2);\r\n\r\n\t\t\t\t\t\t$('html,body')\r\n\t\t\t\t\t\t.animate(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'scrollTop': Math.max(0, Math.min($(document).height() - window_height, scroll_top)) + 'px'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'queue': false\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t'submitHandler': function (form)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$(form).find('[type=\"submit\"]').prop('disabled', true);\r\n\r\n\t\t\t\t\t\tform.submit();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t$.nmm.include.postboxes();\r\n\t$.nmm.include.resize();\r\n\t$.nmm.include.scroll_stop();\r\n\t$.nmm.admin.settings.code_fields();\r\n\t$.nmm.admin.settings.conditional_logic();\r\n\t$.nmm.admin.settings.forms();\r\n\t$.nmm.admin.settings.repeatable();\r\n})\r\n(jQuery);\r\n"]}